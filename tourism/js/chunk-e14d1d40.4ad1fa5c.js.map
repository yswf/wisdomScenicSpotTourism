{"version":3,"sources":["webpack:///./src/utils/verify.js","webpack:///./src/views/ticket/ticket-reservation.vue?c4b6","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.parse-int.js","webpack:///./node_modules/core-js/internals/parse-int.js","webpack:///./src/views/ticket/ticket-reservation.vue?b8b3","webpack:///src/views/ticket/ticket-reservation.vue","webpack:///./src/views/ticket/ticket-reservation.vue?b0f6","webpack:///./src/views/ticket/ticket-reservation.vue"],"names":["isCardID","id","format","test","year","substr","month","date","time","Date","parse","nowTime","dates","getDate","c","b","idArray","split","sum","k","parseInt","toUpperCase","isPwdOrAccount","reg","isPhone","value","isName","isNoValue","i","length","global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","sloppyArrayMethod","module","exports","callbackfn","this","arguments","undefined","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","from","to","O","len","actualStart","argumentsLength","TypeError","DESCRIPTORS","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","trim","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","index","code","it","charCodeAt","NaN","slice","key","NumberWrapper","dummy","valueOf","call","keys","j","constructor","FunctionPrototype","Function","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","match","parseIntImplementation","whitespaces","nativeParseInt","hex","FORCED","string","S","String","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_m","_v","_s","ticketInfo","selectTicketType","model","callback","$$v","ticketType","expression","_l","item","slot","title","price","desc","on","$event","select","showPopup","selectPlayDate","_e","staticStyle","touristList","tourist","editTourist","name","_f","idCard","deleteTourist","addTourist","pay","ticketPay","showSelectPopup","type","minDate","maxDate","confirmSelect","cancelSelect","getValues","currentDate","isEdit","editTourists","staticRenderFns","component"],"mappings":"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","file":"js/chunk-e14d1d40.4ad1fa5c.js","sourcesContent":["// 验证身份证\nexport function isCardID (id) {\n  const format = /^(([1][1-5])|([2][1-3])|([3][1-7])|([4][1-6])|([5][0-4])|([6][1-5])|([7][1])|([8][1-2]))\\d{4}(([1][9]\\d{2})|([2]\\d{3}))(([0][1-9])|([1][0-2]))(([0][1-9])|([1-2][0-9])|([3][0-1]))\\d{3}[0-9xX]$/\n  // 号码规则校验\n  if (!format.test(id)) {\n    return false\n  }\n  // 区位码校验\n  // 出生年月日校验   前正则限制起始年份为1900\n  const year = id.substr(6, 4) // 身份证年\n  const month = id.substr(10, 2) // 身份证月\n  const date = id.substr(12, 2) // 身份证日\n  const time = Date.parse(month + '-' + date + '-' + year) // 身份证日期时间戳date\n  const nowTime = Date.parse(new Date()) // 当前时间戳\n  const dates = (new Date(year, month, 0)).getDate() // 身份证当月天数\n  if (time > nowTime || date > dates) {\n    return false\n  }\n  // 校验码判断\n  const c = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2] // 系数\n  const b = ['1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2'] // 校验码对照表\n  const idArray = id.split('')\n  let sum = 0\n  for (let k = 0; k < 17; k++) {\n    sum += parseInt(idArray[k]) * parseInt(c[k])\n  }\n  if (idArray[17].toUpperCase() !== b[sum % 11].toUpperCase()) {\n    return false\n  }\n  return true\n}\n\n// 账号和密码，8~32位数字+英文\nexport function isPwdOrAccount (id) {\n  const reg = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,32}$/\n  if (reg.test(id)) {\n    return true\n  }\n  return false\n}\n\n\n// 验证手机号\nexport function isPhone (value) {\n  const reg = /^1[34578]\\d{9}$/\n  if (reg.test(value)) {\n    return true\n  } else {\n    return false\n  }\n}\n\n// 验证姓名\nexport function isName (value) {\n  const reg = /^[\\u4e00-\\u9fa5]{2,6}$/\n  if (reg.test(value)) {\n    return true\n  } else {\n    return false\n  }\n}\n\n// 验证是否为空\nexport function isNoValue (value) {\n  if (typeof value === 'string') {\n    if (!value) {\n      return true\n    } else {\n      return false\n    }\n  } else {\n    for (let i = 0; i < value.length; i++) {\n      if (isNoValue(value[i])) {\n        return true\n      }\n    }\n    return false\n  }\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-reservation.vue?vue&type=style&index=0&id=2bf39f1a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-reservation.vue?vue&type=style&index=0&id=2bf39f1a&lang=scss&scoped=true&\"","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = sloppyArrayMethod('forEach') ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('splice') }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar parseIntImplementation = require('../internals/parse-int');\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != parseIntImplementation }, {\n  parseInt: parseIntImplementation\n});\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar nativeParseInt = global.parseInt;\nvar hex = /^[+-]?0[Xx]/;\nvar FORCED = nativeParseInt(whitespaces + '08') !== 8 || nativeParseInt(whitespaces + '0x16') !== 22;\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(String(string));\n  return nativeParseInt(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));\n} : nativeParseInt;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"ticketReservation\"}},[_c('div',{staticClass:\"ticket-line\"},[_vm._m(0),_c('span',{staticClass:\"ticket-select\"},[_vm._v(_vm._s(_vm.ticketInfo.selectTicketType))])]),_c('van-collapse',{attrs:{\"accordion\":\"\"},model:{value:(_vm.ticketType),callback:function ($$v) {_vm.ticketType=$$v},expression:\"ticketType\"}},_vm._l((_vm.ticketList),function(item){return _c('van-collapse-item',{attrs:{\"name\":item.id}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(item.title)+\" \"),_c('span',{staticClass:\"ticket-price\"},[_vm._v(\"￥\"+_vm._s(item.price))])]),_c('div',{staticClass:\"ticket-detail\"},[_c('span',{staticClass:\"ticket-desc\"},[_vm._v(_vm._s(item.desc))]),_c('span',{staticClass:\"ticket-select-button\",on:{\"click\":function($event){return _vm.select(item)}}},[_vm._v(\"确定\")])])])}),1),_c('div',{staticClass:\"ticket-line\",on:{\"click\":_vm.showPopup}},[_vm._m(1),(_vm.ticketInfo.selectPlayDate)?_c('span',{staticClass:\"ticket-select\"},[_vm._v(_vm._s(_vm.ticketInfo.selectPlayDate))]):_vm._e(),(!_vm.ticketInfo.selectPlayDate)?_c('span',{staticClass:\"icon iconfont ticket-select\",staticStyle:{\"margin-right\":\"25px\"}},[_vm._v(\"\")]):_vm._e()]),_c('div',{staticClass:\"ticket-line\"},[_vm._m(2),_c('span',{staticClass:\"ticket-select\"},[_vm._v(_vm._s(_vm.touristList.length))])]),_c('div',{staticClass:\"tourist-list\"},[_vm._l((_vm.touristList),function(tourist){return _c('div',{staticClass:\"tourist-info\"},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{on:{\"click\":function($event){return _vm.editTourist(tourist)}}},[_c('span',{staticClass:\"icon iconfont operator\"},[_vm._v(\"\")])]),_c('div',{staticClass:\"tourist-detail\"},[_c('div',[_c('span',{staticClass:\"tourist-name\"},[_vm._v(_vm._s(tourist.name))])]),_c('div',{staticClass:\"tourist-idCard\"},[_vm._v(_vm._s(_vm._f(\"idCardFilter\")(tourist.idCard)))])])]),_c('span',{staticClass:\"icon iconfont delete\",on:{\"click\":function($event){return _vm.deleteTourist(tourist)}}},[_vm._v(\"\")])])}),_c('div',{staticClass:\"addTourist\",on:{\"click\":_vm.addTourist}},[_c('span',{staticClass:\"icon iconfont icon-jia\"}),_c('span',{staticClass:\"addTourist-text\"},[_vm._v(\"添加游客\")])])],2),_c('div',{staticClass:\"pay-button\",on:{\"click\":_vm.pay}},[_vm._v(\"￥\"+_vm._s(_vm.ticketPay)+\"/确认支付\")]),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showSelectPopup),callback:function ($$v) {_vm.showSelectPopup=$$v},expression:\"showSelectPopup\"}},[_c('van-datetime-picker',{staticClass:\"datetime-picker\",attrs:{\"title\":_vm.title,\"type\":_vm.type,\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate},on:{\"confirm\":_vm.confirmSelect,\"cancel\":_vm.cancelSelect,\"change\":_vm.getValues},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1),_c('van-popup',{model:{value:(_vm.isEdit),callback:function ($$v) {_vm.isEdit=$$v},expression:\"isEdit\"}},[_c('van-cell-group',[_c('van-field',{staticClass:\"cellEdit\",attrs:{\"clearable\":\"\",\"label\":\"姓名\",\"placeholder\":\"请输入姓名\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('van-field',{staticClass:\"cellEdit\",attrs:{\"clearable\":\"\",\"label\":\"证件号码\",\"placeholder\":\"请输入证件号码\"},model:{value:(_vm.idCard),callback:function ($$v) {_vm.idCard=$$v},expression:\"idCard\"}})],1),_c('div',{staticClass:\"confirm-button\",on:{\"click\":_vm.editTourists}},[_vm._v(\"确定\")])],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"icon iconfont iconfont-title\"},[_vm._v(\"\")]),_c('span',{staticClass:\"ticket-title\"},[_vm._v(\"购票类型\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"icon iconfont iconfont-title\"},[_vm._v(\"\")]),_c('span',{staticClass:\"ticket-title\"},[_vm._v(\"游玩日期\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"icon iconfont iconfont-title\"},[_vm._v(\"\")]),_c('span',{staticClass:\"ticket-title\"},[_vm._v(\"游玩人数\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"ticketReservation\">\n    <div class=\"ticket-line\">\n      <div>\n        <span class=\"icon iconfont iconfont-title\">&#xe60c;</span>\n        <span class=\"ticket-title\">购票类型</span>\n      </div>\n      <span class=\"ticket-select\">{{ticketInfo.selectTicketType}}</span>\n    </div>\n    <van-collapse v-model=\"ticketType\" accordion>\n      <van-collapse-item v-for=\"item in ticketList\" :name=\"item.id\">\n        <div slot=\"title\">{{item.title}}\n          <span class=\"ticket-price\">￥{{item.price}}</span>\n        </div>\n        <div class=\"ticket-detail\">\n          <span class=\"ticket-desc\">{{item.desc}}</span>\n          <span class=\"ticket-select-button\" @click=\"select(item)\">确定</span>\n        </div>\n      </van-collapse-item>\n    </van-collapse>\n\n    <div class=\"ticket-line\" @click=\"showPopup\">\n      <div>\n        <span class=\"icon iconfont iconfont-title\">&#xe60a;</span>\n        <span class=\"ticket-title\">游玩日期</span>\n      </div>\n      <span class=\"ticket-select\" v-if=\"ticketInfo.selectPlayDate\">{{ticketInfo.selectPlayDate}}</span>\n      <span class=\"icon iconfont ticket-select\" v-if=\"!ticketInfo.selectPlayDate\"\n        style=\"margin-right: 25px\">&#xe62c;</span>\n\n    </div>\n\n    <div class=\"ticket-line\">\n      <div>\n        <span class=\"icon iconfont iconfont-title\">&#xe611;</span>\n        <span class=\"ticket-title\">游玩人数</span>\n      </div>\n      <span class=\"ticket-select\">{{touristList.length}}</span>\n    </div>\n    <div class=\"tourist-list\">\n      <div class=\"tourist-info\" v-for=\"tourist in touristList\">\n        <div style=\"display: flex;\">\n          <div @click=\"editTourist(tourist)\"><span class=\"icon iconfont operator\">&#xe626;</span></div>\n          <div class=\"tourist-detail\">\n            <div>\n              <span class=\"tourist-name\">{{tourist.name}}</span>\n              <!-- <span class=\"tourist-tag\" v-if=\"tourist.ticketType==0\">普通票</span>\n              <span class=\"tourist-tag\" v-if=\"tourist.ticketType==1\">儿童票</span>\n              <span class=\"tourist-tag\" v-if=\"tourist.ticketType==2\">学生票</span>\n              <span class=\"tourist-tag\" v-if=\"tourist.ticketType==3\">老人票</span>\n              <span class=\"tourist-tag\" v-if=\"tourist.ticketType==4\">残疾票</span> -->\n            </div>\n            <div class=\"tourist-idCard\">{{tourist.idCard| idCardFilter}}</div>\n          </div>\n        </div>\n        <span class=\"icon iconfont delete\" @click=\"deleteTourist(tourist)\">&#xe62d;</span>\n      </div>\n      <div class=\"addTourist\" @click=\"addTourist\">\n        <span class=\"icon iconfont icon-jia\"></span>\n        <span class=\"addTourist-text\">添加游客</span>\n      </div>\n    </div>\n\n    <div class=\"pay-button\" @click=\"pay\">￥{{ticketPay}}/确认支付</div>\n\n    <van-popup v-model=\"showSelectPopup\" position=\"bottom\">\n      <van-datetime-picker class=\"datetime-picker\" @confirm=\"confirmSelect\" @cancel=\"cancelSelect\" @change=\"getValues\"\n        v-model=\"currentDate\" :title=\"title\" :type=\"type\" :min-date=\"minDate\" :max-date=\"maxDate\" />\n    </van-popup>\n\n    <van-popup v-model=\"isEdit\">\n      <van-cell-group>\n        <van-field class=\"cellEdit\" v-model=\"name\" clearable label=\"姓名\" placeholder=\"请输入姓名\" />\n        <van-field class=\"cellEdit\" v-model=\"idCard\" clearable label=\"证件号码\" placeholder=\"请输入证件号码\" />\n      </van-cell-group>\n      <div class=\"confirm-button\" @click=\"editTourists\">确定</div>\n    </van-popup>\n  </div>\n</template>\n<script>\n  import {\n    Collapse,\n    CollapseItem,\n    DatetimePicker,\n    Popup,\n    Dialog,\n    Toast,\n    CellGroup,\n    Field\n  } from 'vant';\n  import {\n    buy,\n    tickets\n  } from '@/utils/apply.url';\n  import {\n    isNoValue,\n    isName,\n    isCardID\n  } from '@/utils/verify'\n  export default {\n    name: 'ticketReservation',\n    data() {\n      return {\n        ticketType: '', // 控制手风琴关闭\n        currentPlayDate: '', // 当前选择器上时间\n        showSelectPopup: false,\n        title: \"请选择游玩日期\",\n        type: \"date\",\n        userTel: '',\n        minDate: new Date(),\n        currentDate: new Date(),\n        ticketInfo: { // 购票信息\n          ticketId: '',\n          selectPlayDate: '',\n          touristsNumber: '',\n          ticketPay: '',\n          uTel:'',\n          selectTicketType:''\n        },\n        name:'',\n        idCard: '',\n        isEdit: false,\n        ticketList: [],\n        touristList: [],\n      };\n    },\n    filters: {\n      idCardFilter(idCard) {\n        return idCard.substr(0, 6) + \"****\" + idCard.substr(14);\n      }\n    },\n    computed: {\n      ticketPay() {\n        var sum = 0; // 总价\n        var unitPrice = 0; // 单价\n        for (var i = 0; i < this.ticketList.length; i++) {\n          if (this.ticketInfo.selectTicketType == this.ticketList[i].title) {\n            unitPrice = this.ticketList[i].price;\n            break;\n          }\n        }\n        for (var j = 0; j < this.touristList.length; j++) {\n          var price = unitPrice;\n          if (this.touristList[j].ticketType != '0') {\n            price = unitPrice / 2;\n          }\n          sum += Number(price);\n        }\n        return sum;\n      },\n      // 预约最大的日期（可提前七天预约）\n      maxDate() {\n        var currentDate = new Date().valueOf();\n        var maxDate = currentDate + 7 * 24 * 60 * 60 * 1000;\n        maxDate = new Date(maxDate);\n        return maxDate;\n      }\n    },\n    mounted() {\n      this.userTel = sessionStorage.getItem('userTel');\n      // if (this.$route.query.tourist != undefined) {\n      //   console.log(this.$route.query.tourist)\n      //   this.touristList.push(this.$route.query.tourist);\n      //   console.log(this.touristList)\n      //   this.ticketInfo.ticketType = sessionStorage.getItem(\"ticketType\");\n      //   this.ticketInfo.selectTicketType = sessionStorage.getItem(\"selectTicketType\");\n      //   this.ticketInfo.selectPlayDate = sessionStorage.getItem(\"selectPlayDate\");\n      // } else {\n      //   console.log('主页跳进来')\n      // }\n      this.getTicketData();\n    },\n    methods: {\n      // 获取电子门票数据\n      getTicketData() {\n        this.ticketList = [];\n        tickets({}, 'get').then(res => {\n          if (res.length != 0) {\n            var obj = {};\n            for (let i = 0; i < res.length; i++) {\n              obj = {\n                id: res[i].id,\n                title: res[i].title,\n                desc: res[i].descs,\n                price: res[i].price\n              };\n              this.ticketList.push(obj)\n            }\n          } else {\n            this.$message.success(res.msg);\n          }\n        }).catch(err => {\n          console.log(22)\n          this.$message.success('获取失败' || res.msg);\n        });\n      },\n      // 选择购票类型\n      select(item) {\n        this.ticketInfo.ticketId = item.id;\n        this.ticketInfo.selectTicketType = item.title;\n        this.ticketType = '';\n      },\n      // 弹出选择器\n      showPopup() {\n        this.showSelectPopup = true;\n      },\n      // 获取选择数据\n      getValues(value) {\n        var year = value.children[0].options[value.children[0].currentIndex];\n        var month = value.children[1].options[value.children[1].currentIndex];\n        var date = value.children[2].options[value.children[2].currentIndex];\n        this.currentPlayDate = year + '-' + month + '-' + date;\n      },\n      // 确定选择(日期)\n      confirmSelect() {\n        var d = new Date();\n        var year = d.getFullYear();\n        var month = d.getMonth() + 1 < 10 ? '0' + (d.getMonth() + 1) : d.getMonth() + 1;\n        var day = d.getDate() < 10 ? '0' + d.getDate() : d.getDate();\n        var today = year + \"-\" + month + \"-\" + day;\n        this.showSelectPopup = false;\n        this.ticketInfo.selectPlayDate = this.currentPlayDate == '' ? today : this.currentPlayDate;\n      },\n      // 取消选择\n      cancelSelect() {\n        this.showSelectPopup = false;\n      },\n      // 添加游客\n      addTourist() {\n        this.isEdit=true;\n        this.name='';\n        this.idCard='';\n      },\n      // 编辑游客\n      editTourist(tourist) {\n        this.isEdit=true;\n        console.log('编辑')\n        this.touristList.forEach((item, index) => {\n          if (item.idCard == tourist.idCard) {\n            this.touristList.splice(index, 1);\n            index++;\n          }\n        });\n        console.log(this.touristList)\n      },\n      // 删除游客\n      deleteTourist(tourist) {\n        Dialog.confirm({\n          title: '温馨提示',\n          message: '确定删除该游客信息？'\n        }).then(() => {\n          var index = 0;\n          this.touristList.forEach((item, index) => {\n            if (item.idCard == tourist.idCard) {\n              this.touristList.splice(index, 1);\n              index++;\n            }\n          });\n        }).catch(() => {});\n      },\n      // 点击确认支付按钮\n      pay() {\n        this.ticketInfo.touristsNumber = this.touristList.length;\n        this.ticketInfo.ticketPay = this.ticketPay;\n        if (isNoValue(this.ticketInfo.selectTicketType)) {\n          Toast('购票类型不能为空')\n          return\n        }\n        if (isNoValue(this.ticketInfo.selectPlayDate)) {\n          Toast('游玩日期不能为空')\n          return\n        }\n        if (this.ticketInfo.touristsNumber == 0) {\n          Toast('游玩人数不能为0')\n          return\n        }\n        console.log(this.ticketInfo)\n        var params = {\n          selectPlayDate: this.ticketInfo.selectPlayDate,\n          number: Number(this.ticketInfo.touristsNumber),\n          ticketPay: this.ticketPay,\n          uTel: this.userTel,\n          ticketId:this.ticketInfo.ticketId\n        }\n        console.log(params)\n        buy(params, 'post').then(res => {\n          if (res.code == '200') { // 购票成功\n            Toast('购票成功，可前往个人中心查看购票信息');\n          } else { // 该车对应时间段已购票\n            Toast('您已预约对应时间段');\n          }\n        }).catch(err => {\n          Toast('登录失败' || res.msg);\n        });\n        Toast.success('支付成功');\n      },\n      // 点击确定按钮，完成编辑\n      editTourists() {\n        var tourist={\n          name:this.name,\n          idCard:this.idCard,\n          ticketType:0\n        };\n        if (isNoValue(tourist.name)) {\n          Toast('姓名不能为空')\n          return\n        }\n        if (isNoValue(tourist.idCard)) {\n          Toast('证件号码不能为空')\n          return\n        }\n        if (!isName(tourist.name)) {\n          Toast('姓名格式有误')\n          return\n        }\n        if (!isCardID(tourist.idCard)) {\n          Toast('证件号码格式有误')\n          return\n        }\n        console.log(tourist);\n        this.touristList.push(tourist)\n        console.log(this.touristList)\n        this.isEdit=false;\n      }\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n  /* 电子门票类型 */\n  .ticket-line {\n    width: 100%;\n    padding: px2rem(20px);\n    margin-right: px2rem(50px);\n    border-bottom: 1px solid #ccc;\n    display: flex;\n    justify-content: space-between;\n    background-color: #fff;\n\n    .iconfont-title {\n      color: #3D11EE;\n      font-size: px2rem(40px);\n    }\n\n    .ticket-title {\n      color: #3D11EE;\n      font-size: px2rem(36px);\n      margin-left: px2rem(20px);\n    }\n\n    .ticket-select {\n      color: #ccc;\n      margin-right: px2rem(40px);\n    }\n  }\n\n  .van-cell {\n    .van-cell__title {\n      font-size: px2rem(34px);\n    }\n\n    .ticket-price {\n      border: px2rem(1px) solid #ff3300;\n      color: #ff3300;\n      font-size: px2rem(24px);\n      border-radius: px2rem(5px);\n      padding: 0 px2rem(10px);\n      margin-left: px2rem(20px);\n    }\n  }\n\n  .ticket-detail {\n    border-bottom: px2rem(1px) solid #ddd;\n    font-size: px2rem(30px);\n    padding: px2rem(20px) 0;\n    margin-top: px2rem(-50px);\n    display: flex;\n    justify-content: space-between;\n  }\n\n  .ticket-desc {\n    width: px2rem(550px);\n  }\n\n  .ticket-select-button {\n    background-color: #00b300;\n    color: #fff;\n    font-size: px2rem(30px);\n    border-radius: px2rem(10px);\n    padding: px2rem(10px) px2rem(20px);\n    position: absolute;\n    top: px2rem(70px);\n    right: 0;\n  }\n\n  .tourist-list {\n    margin-bottom: px2rem(20px);\n    padding: px2rem(20px) 0 px2rem(10px) 0;\n    background-color: #eee;\n\n    .tourist-info {\n      background-color: #fff;\n      padding: px2rem(20px);\n      margin: 0 px2rem(20px) px2rem(20px) px2rem(20px);\n      border-radius: px2rem(10px);\n      display: flex;\n      justify-content: space-between;\n      text-align: center;\n      align-items: center;\n\n      .operator {\n        font-size: px2rem(40px);\n        color: green;\n      }\n\n      .delete {\n        font-size: px2rem(40px);\n        color: red;\n      }\n\n      .tourist-detail {\n        margin-left: px2rem(20px);\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        align-items: flex-start;\n        text-align: left;\n\n        .tourist-tag {\n          border: px2rem(1px) solid #888;\n          color: #888;\n          padding: 0 px2rem(10px);\n          margin-left: px2rem(20px);\n          font-size: px2rem(28px);\n          border-radius: px2rem(10px);\n        }\n\n        .tourist-idCard {\n          font-size: px2rem(28px);\n          color: #888;\n          margin-top: px2rem(20px);\n        }\n      }\n    }\n\n    .addTourist {\n      background-color: #fff;\n      padding: px2rem(20px);\n      margin: 0 px2rem(20px) px2rem(20px) px2rem(20px);\n      text-align: center;\n      border-radius: px2rem(10px);\n\n      .icon-jia {\n        color: green;\n        font-size: px2rem(32px);\n        font-weight: 800;\n        margin-right: px2rem(30px);\n      }\n    }\n  }\n\n  .pay-button {\n    background-color: #3D11EE;\n    color: #fff;\n    font-size: px2rem(32px);\n    width: 86%;\n    border-radius: px2rem(10px);\n    margin: px2rem(20px) 7% px2rem(120px) 7%;\n    padding: px2rem(25px) 0;\n    text-align: center;\n  }\n\n  .parking-time {\n    margin-left: 12% !important;\n    color: #323233 !important;\n  }\n\n  .confirm-button {\n    background-color: #3D11EE;\n    color: #fff;\n    font-size: px2rem(32px);\n    width: 86%;\n    border-radius: px2rem(10px);\n    margin: px2rem(120px) 7%;\n    padding: px2rem(15px) 0;\n    text-align: center;\n  }\n  .cellEdit{\n    padding: px2rem(10px);\n    margin-top:px2rem(20px) ;\n  }\n\n  .van-popup--center{\n    width: px2rem(550px);\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-reservation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ticket-reservation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ticket-reservation.vue?vue&type=template&id=2bf39f1a&scoped=true&\"\nimport script from \"./ticket-reservation.vue?vue&type=script&lang=js&\"\nexport * from \"./ticket-reservation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ticket-reservation.vue?vue&type=style&index=0&id=2bf39f1a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bf39f1a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}