{"version":3,"sources":["webpack:///./src/utils/verify.js","webpack:///./src/views/user/login.vue?bc3f","webpack:///src/views/user/login.vue","webpack:///./src/views/user/login.vue?7a4f","webpack:///./src/views/user/login.vue","webpack:///./src/views/user/login.vue?b08f","webpack:///./node_modules/core-js/modules/es.parse-int.js","webpack:///./node_modules/core-js/internals/parse-int.js"],"names":["isCardID","id","format","test","year","substr","month","date","time","Date","parse","nowTime","dates","getDate","c","b","idArray","split","sum","k","parseInt","toUpperCase","isPwdOrAccount","reg","isPhone","value","isName","isNoValue","i","length","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","model","userInfo","callback","$$v","$set","expression","on","goRegister","_v","goLogin","staticRenderFns","component","$","parseIntImplementation","global","forced","trim","whitespaces","nativeParseInt","hex","FORCED","module","exports","string","radix","S","String"],"mappings":"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","file":"js/chunk-205272a4.80f7b273.js","sourcesContent":["// 验证身份证\nexport function isCardID (id) {\n  const format = /^(([1][1-5])|([2][1-3])|([3][1-7])|([4][1-6])|([5][0-4])|([6][1-5])|([7][1])|([8][1-2]))\\d{4}(([1][9]\\d{2})|([2]\\d{3}))(([0][1-9])|([1][0-2]))(([0][1-9])|([1-2][0-9])|([3][0-1]))\\d{3}[0-9xX]$/\n  // 号码规则校验\n  if (!format.test(id)) {\n    return false\n  }\n  // 区位码校验\n  // 出生年月日校验   前正则限制起始年份为1900\n  const year = id.substr(6, 4) // 身份证年\n  const month = id.substr(10, 2) // 身份证月\n  const date = id.substr(12, 2) // 身份证日\n  const time = Date.parse(month + '-' + date + '-' + year) // 身份证日期时间戳date\n  const nowTime = Date.parse(new Date()) // 当前时间戳\n  const dates = (new Date(year, month, 0)).getDate() // 身份证当月天数\n  if (time > nowTime || date > dates) {\n    return false\n  }\n  // 校验码判断\n  const c = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2] // 系数\n  const b = ['1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2'] // 校验码对照表\n  const idArray = id.split('')\n  let sum = 0\n  for (let k = 0; k < 17; k++) {\n    sum += parseInt(idArray[k]) * parseInt(c[k])\n  }\n  if (idArray[17].toUpperCase() !== b[sum % 11].toUpperCase()) {\n    return false\n  }\n  return true\n}\n\n// 账号和密码，8~32位数字+英文\nexport function isPwdOrAccount (id) {\n  const reg = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,32}$/\n  if (reg.test(id)) {\n    return true\n  }\n  return false\n}\n\n\n// 验证手机号\nexport function isPhone (value) {\n  const reg = /^1[34578]\\d{9}$/\n  if (reg.test(value)) {\n    return true\n  } else {\n    return false\n  }\n}\n\n// 验证姓名\nexport function isName (value) {\n  const reg = /^[\\u4e00-\\u9fa5]{2,6}$/\n  if (reg.test(value)) {\n    return true\n  } else {\n    return false\n  }\n}\n\n// 验证是否为空\nexport function isNoValue (value) {\n  if (typeof value === 'string') {\n    if (!value) {\n      return true\n    } else {\n      return false\n    }\n  } else {\n    for (let i = 0; i < value.length; i++) {\n      if (isNoValue(value[i])) {\n        return true\n      }\n    }\n    return false\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login\"}},[_c('div',{staticClass:\"image\"}),_c('van-cell-group',[_c('van-field',{attrs:{\"clearable\":\"\",\"label\":\"手机号\",\"placeholder\":\"请输入手机号码\",\"type\":\"tel\",\"left-icon\":\"user-circle-o\"},model:{value:(_vm.userInfo.tel),callback:function ($$v) {_vm.$set(_vm.userInfo, \"tel\", $$v)},expression:\"userInfo.tel\"}}),_c('van-field',{attrs:{\"clearable\":\"\",\"type\":\"password\",\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"left-icon\":\"lock\"},model:{value:(_vm.userInfo.password),callback:function ($$v) {_vm.$set(_vm.userInfo, \"password\", $$v)},expression:\"userInfo.password\"}})],1),_c('div',{staticClass:\"login-box\"},[_c('span',{staticClass:\"register\",on:{\"click\":_vm.goRegister}},[_vm._v(\"没有账号\")])]),_c('div',{staticClass:\"login-button\",on:{\"click\":_vm.goLogin}},[_vm._v(\"登录\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"login\">\n    <div class=\"image\"></div>\n    <van-cell-group>\n      <van-field v-model=\"userInfo.tel\" clearable label=\"手机号\" placeholder=\"请输入手机号码\" type=\"tel\"\n        left-icon=\"user-circle-o\" />\n      <van-field v-model=\"userInfo.password\" clearable type=\"password\" label=\"密码\" placeholder=\"请输入密码\"\n        left-icon=\"lock\" />\n    </van-cell-group>\n    <div class=\"login-box\">\n      <span class=\"register\" @click=\"goRegister\">没有账号</span>\n    </div>\n    <div class=\"login-button\" @click=\"goLogin\">登录</div>\n  </div>\n</template>\n<script>\n  import {\n    Field,\n    Icon,\n    CellGroup,\n    Toast\n  } from 'vant';\n  import {\n    isNoValue,\n    isPhone,\n    isPwdOrAccount\n  } from '@/utils/verify'\n  import {\n    login\n  } from '@/utils/apply.url';\n  export default {\n    name: 'login',\n    data() {\n      return {\n        userInfo: {\n          tel: '',\n          password: '',\n          redirectUrl: '',\n        }\n      };\n    },\n    methods: {\n      // 点击没有账号\n      goRegister() {\n        this.$router.push({\n          path: '/register',\n        });\n      },\n      // 点击登录按钮\n      goLogin() {\n        if (isNoValue(this.userInfo.tel)) {\n          Toast('手机号码不能为空')\n          return\n        }\n        if (isNoValue(this.userInfo.password)) {\n          Toast('密码不能为空')\n          return\n        }\n        if (!isPhone(this.userInfo.tel)) {\n          Toast('手机号码格式有误')\n          return\n        }\n        if (!isPwdOrAccount(this.userInfo.password)) {\n          Toast('密码格式有误' + '\\n' + '正确格式:8~32位数字+英文')\n          return\n        }\n        var params = {\n          tel: this.userInfo.tel,\n          password: this.userInfo.password\n        }\n        login(params, 'post').then(res => {\n          if (res.code == '200') {\n            sessionStorage.setItem('userTel', this.userInfo.tel);\n            Toast(res.msg);\n            console.log(this.$route.query.redirect)\n            if (this.$route.query.redirect) {\n              let redirect = this.$route.query.redirect;\n              this.$router.push(redirect);\n            } else {\n              this.$router.push({\n                path: '/userCenter',\n              });\n            }          \n          } else if (res.code == '400') {\n            Toast(res.msg);\n          } else {\n            Toast('该账户未注册，请前往注册');\n          }\n        }).catch(err => {\n          Toast('登录失败' || res.msg);\n        });\n      }\n\n    },\n\n  };\n</script>\n\n<style lang=\"scss\" scope>\n  .van-cell {\n    color: #3D11EE;\n    font-size: px2rem(32px);\n    line-height: px2rem(48px);\n\n    .van-field__left-icon .van-icon {\n      font-size: px2rem(45px);\n    }\n\n    .van-field__label {\n      width: px2rem(130px);\n      margin-right: px2rem(40px);\n      text-align: left;\n    }\n\n    .van-field__body {\n      ::-webkit-input-placeholder {\n        /*Webkit browsers 谷歌*/\n        font-size: px2rem(30px);\n      }\n\n      :-moz-placeholder {\n        /*Mozilla Firefox 4 to 8 火狐*/\n        font-size: px2rem(30px);\n      }\n\n      ::moz-placeholder {\n        /*Mozilla Firefox 19+ 火狐*/\n        font-size: px2rem(30px);\n      }\n\n      :-ms-input-placeholder {\n        /*Internet Explorer 10+ IE10以上*/\n        font-size: px2rem(30px);\n      }\n\n    }\n  }\n\n  .image {\n    width: 100%;\n    height: px2rem(380px);\n    margin-bottom: px2rem(30px);\n    background-size: 100%;\n    background: url(\"http://img4.imgtn.bdimg.com/it/u=1096318764,1694813758&fm=26&gp=0.jpg\") no-repeat fixed top;\n  }\n\n  .login-box {\n    display: flex;\n    justify-content: space-between;\n    margin: px2rem(20px) px2rem(20px);\n\n    .register {\n      color: #888;\n      font-size: px2rem(28px);\n    }\n  }\n\n  .login-button {\n    background-color: #3D11EE;\n    color: #fff;\n    font-size: px2rem(32px);\n    width: 86%;\n    border-radius: px2rem(10px);\n    margin: px2rem(120px) 7%;\n    padding: px2rem(25px) 0;\n    text-align: center;\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=1ba61b7e&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=scss&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=scss&scope=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=scss&scope=true&\"","var $ = require('../internals/export');\nvar parseIntImplementation = require('../internals/parse-int');\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != parseIntImplementation }, {\n  parseInt: parseIntImplementation\n});\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar nativeParseInt = global.parseInt;\nvar hex = /^[+-]?0[Xx]/;\nvar FORCED = nativeParseInt(whitespaces + '08') !== 8 || nativeParseInt(whitespaces + '0x16') !== 22;\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(String(string));\n  return nativeParseInt(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));\n} : nativeParseInt;\n"],"sourceRoot":""}